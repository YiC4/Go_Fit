<p id="notice"><%= notice %></p>

<h1>Listing Courses</h1>
courses count: <%= @courses.count%>

<table class="table table-hover">
  <thead>
    <tr>
      <th>&emsp;&ensp;Name</th>
      <th>&emsp;&emsp;&emsp;&emsp;Instrutor</th>
      <th>&emsp;&ensp;Limit</th>
      <th>&ensp;Fee</th>
      <th>&emsp;&emsp;&emsp;&emsp;&emsp;Num before enrolled</th>
      <th>&emsp;&emsp;&emsp;&emsp;&emsp;Start</th>
      <th>&emsp;Class hour</th>
    </tr>
  </thead>

  <tbody>
    <% @courses.each do |course| %>
      <tr>
        <td><%= link_to course.name, course %></td>
        <%if course.user_id%>
          <% instrutor=User.find(course.user_id) %>
          <td><%= instrutor.name %></td>
        <%else%>
          <td></td>
        <%end%>
        <td><%= course.limit %></td>
        <td><%= course.fee %></td>
        <td><%= course.numberofenrolled %></td>
        <td><%= course.start %></td>
        <td><%= course.class_hour %></td>
        <td colspan="1"></td>


        <% if current_user.type == "manager"%>
          <td><%= link_to 'Delete', course, method: :delete, data: { confirm: 'Are you sure?' } %></td>
          <td><%= link_to 'Edit', edit_course_path(course) %></td>
        <%else%>
          <td></td>
          <td></td>
        <%end %>

      </tr>
    <% end %>
  </tbody>
  <%= link_to 'New Course', new_course_path %>

</table>

<br>
</br>


<%= will_paginate @courses %>
